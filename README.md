# Forge

Forge is a CLI tool to package and run internal scripts and tools as structured workflows.

It focuses on **reproducible execution**, **clear workflow definitions**, and a **human-centric CLI**.
Forge is designed to start locally and evolve into a more complete orchestration platform over time.

> **Status:** early-stage / pre-MVP.
> The current focus is a minimal, stable CLI and workflow execution model.

---

## Why Forge

In many teams, operational logic lives in ad-hoc scripts, cronjobs, or CI pipelines.
Over time this leads to unclear ownership, hard-to-reproduce runs, and fragile processes.

Forge explores a different approach:
- workflows as explicit artifacts (YAML),
- deterministic step execution,
- a simple CLI designed for developers and operators.

This repository intentionally starts small and favors correctness over features.

---

## Features (current)

- Minimal workflow DSL (YAML)
- `forge init` — creates a workflow template
- `forge run <workflow.yml>` — executes a workflow locally (foreground)
- `forge dry-run <workflow.yml>` — prints the execution plan without running steps
- Versioning, build info, and cross-platform builds (see Makefile)

---

## Quickstart

### 1) Build (locally)

```bash
make build

## Quickstart

### 1) Build (locally)

```bash
make build
```
The binary will be in `bin/forge`.

### 2) Initialize a workflow project

```bash
./bin/forge init
```
This creates a sample workflow file `workflow.yaml`:

```yaml
# Example Workflow YAML
name: example-forge-workflow
description: Generated by forge init
stages:
- name: hello-stage
  description: A very simple Stage with two steps
  steps:
  - name: hello
    type: exec
    run:
    - echo
    - Hello from Forge
  - name: pause
    type: sleep
    seconds: 1
- name: goodbye-stage
  description: A second Stage to say goodbye
  steps:
  - name: goodbye
    type: exec
    run:
    - echo
    - Goodbye from Forge

```

### 3) Run a workflow

```bash
./bin/forge run ./workflow.yml
```

### 4) Dry-run (simulate)

```bash
./bin/forge dry-run ./workflow.yml
```

prints the execution plan without running steps

---

## Development

- See the Makefile for build, test, lint, coverage, Docker, etc.
- Version, build time, and commit are set automatically via Git.

---

## Notes

- The CLI is based on [Cobra](https://github.com/spf13/cobra).
- Workflows are described in YAML.
- VSCode and GoLand are supported via .gitignore.

---

## Roadmap (high level)

Deterministic execution plans

Improved validation and error reporting

Run metadata and local artifacts

Background execution (--detach)

Workflow simulation and testing support
